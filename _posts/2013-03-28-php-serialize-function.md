---
date: 2013-03-28 12:11:53+00:00
layout: post
title: PHP 持久化保存对象
categories:
- 技术生活
tags:
- PHP
---

有这个一个需求：需要用户（只有一个）在操作过程中，对某个 PHP 中的对象的属性改变时，在下次操作时为上次操作后的状态。

众所周知，在 PHP 执行结束后，页面内的数据都是销毁的，没办法留住对象属性，进程间也是不能共享的。

但是在 PHP 中可以将对象进行序列化（serialize），从而实现保存对象状态的目的。

我的解决方法如下：在该对象的析构方法中，将本身序列化后，保存到可持久化的位置（文件），在使用时首先判断是否存在已序列化后的对象，如何存在则使用之，否则正常实例化对象即可。