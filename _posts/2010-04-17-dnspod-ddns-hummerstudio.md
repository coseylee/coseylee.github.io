---
layout: post
title: DNSPod 的动态域名
categories:
- 技术生活
tags:
- DNSPod
---

很多朋友都想要自己建立网站，或者企业要使用视频监控远程管理的，都苦于没有固定IP而无法使用。这时动态域名就派上用场了。 

国内最著名的 DDNS 服务商是花生壳，他们的产品我也用过，但是不太稳定，而且如果要使用更稳定的服务则需要付费使用，不过花生壳出现较早，域名也是免费申请的，使用比较简单并且可以嵌入路由，这样就不用开电脑使用了。

现在我在用 DNSPod 的动态域名，其实 DNSPod 并不提供动态域名解析服务，只是提供普通域名解析服务，但是我们借用于其客户端却可以很方便的使用动态域名。至于客户端可以使用 DNSPod 官方的客户端和第三方开发的客户端，并且已提供了API供客户自己开发。

***目前 DNSPod 官方客户端已经集成动态域名解析功能，可以在其[官网](https://support.dnspod.cn/Support/api)下载到，以下方法已经失效。***

我使用的 DNSPod 的第三方客户端，是由 HummerStudio 开发的官方网站是 [http://www.hummerstudio.com/](http://www.hummerstudio.com/)。使用它的原因是它体积小，设置简单并且可以以服务运行，使用方便。

从官方下载最新版本后，解压后只有一个文件和说明文件，说明文件里使用方法已经很详细了，我也贴过来一份。

使用说明：

>DNSPod 是来自 http://www.dnspod.com 的一项免费域名解析服务。  
>在业界有着不错的口碑。并且它也提供了一套完整的API接口供用户使用。  
>本程序就是根据这套接口写的。支持该网站提供的所有功能。（据目前的了解似乎应该是这样的）并提供了动态域名的功能。
>
>关于开启动态域名的方法：
>
>首先确保你需要动态更新的域名已经添加到了DNSPod服务器上面。如果还没有，那么你可以运行本程序进行添加。  
>然后你需要创建一个配置文件，本程序中为此提供相应的方法。
> 
>`dnspod.exe /generate <username> <password> <domain> <record>`
>
>简单举例说明：
>
>我们想要动态更新在test用户下面的 www.xxx.com 域名。假定test用户的密码为123。那么创建配置文件的格式具体为：
>
>`dnspod.exe /generate test 123 xxx.com www`
>
>如果要添加根域名，主机头添@,如果上行代码可写为：
>
>`dnspod.exe /generate test 123 xxx.com @`  
>
>如果没有提示，那么表示运行成功。在程序同目录下面会生成一个 `config.xml` 文件。其中用户的密码是加密存放的。用户不可以手动修改它。   
>
>同理，如果你有多个域名需要更新用此方法加入你需要更新的域名。在不同用户名的域名也可以被加入进来。  
>
>有一点需要注意的是，加入动态更新域名列表的域名记录，TTL建议设置的低一些。  
>否则可能会导致其它用户在域名被更新之后依然无法解析正确的域名地址。  
>TTL的越低会导致DNSPod服务器负载越大，越高的话则会导致地址更新时间越长。具体值请自行权衡。   
>接着我们来安装为服务方式运行：
>
>`dnspod.exe /install`  
>
>最后启动它：
>
>`dnspod.exe /start`
>
>PS:在Win2000系统上面运行，需要依赖于msxml6.0运行库。 
